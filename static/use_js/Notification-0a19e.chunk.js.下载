webpackJsonp([50],{2632:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(419),d=n(u),f=a(658),p=a(711),y=n(p),m=a(708),h=n(m),g=a(869),b=a(2232),_=a(949),v=n(_),E=a(1087),N=(s=(0,f.connect)(function(e){return{page:e.notification.all,list:e.notification.all.list}}))(l=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={deleteList:[]},a.doQuery=function(e){var t=a.identityType;a.props.dispatch((0,b.findNotifications)({pageNo:a.pageNo,pageSize:a.pageSize,notificationType:t}))},a.handlePageClick=function(e){a.pageNo=e.selected,a.doQuery(a.props)},a.handleIdentityType=function(e){a.identityType!==e&&(a.pageNo=0,a.identityType=e,a.doQuery(a.props))},a.handleMarkAll=function(){a.props.dispatch((0,b.markAll)(function(){return a.props.dispatch((0,g.getToDoList)())}))},a.handleReadOne=function(e,t){if(t!==!0&&"1"!==t){var n=[];n.push(e),a.props.dispatch((0,b.readNotification)(n,function(){a.doQuery(a.props),a.props.dispatch((0,g.getToDoList)())}))}},a.handleDeleteNotification=function(){var e=[];for(var t in a.state.deleteList)e.push(a.state.deleteList[t].id);a.props.dispatch((0,b.deleteNotification)(e,function(){a.setState({deleteList:[]}),a.doQuery(a.props)}))},a.queryByPageSize=function(e){a.pageSize!==e&&(a.pageSize=e,a.pageNo=0,a.doQuery(a.props))},a.queryByPageNo=function(e){a.pageNo!=e-1&&(a.pageNo=e-1,a.doQuery(a.props))},a.selectList=function(e){setTimeout(function(){a.setState({deleteList:e})},1)},a.identityType="",a.pageNo=0,a.pageSize=20,a}return o(t,e),c(t,[{key:"componentDidMount",value:function(){this.doQuery(this.props)}},{key:"type",value:function(e){switch(e){case"other":return h.default.translate("notification.other");case"product":return h.default.translate("notification.product-message");case"system":return h.default.translate("notification.notification-system");case"userWithdraw":return"提现信息";case"balance_reward":return"活动赠送"}}},{key:"subtype",value:function(e){switch(e){case"attestation_eContract":return h.default.translate("notification.sign");case"product_notary_person":return h.default.translate("common.user-notary");case"product_notary_organization":return h.default.translate("common.org-notary");case"attestation_trade":return h.default.translate("notification.user-att");case"attestation_eContract_trade":return h.default.translate("notification.user-sign");case"kyc_pass":return h.default.translate("notification.user-key-pass");case"kyc_reject":return h.default.translate("notification.user-key-reject");case"kycEnterprise_pass":return h.default.translate("notification.org-key-pass");case"kycEnterprise_reject":return h.default.translate("notification.org-key-reject");case"processEvidence_PASS":return"过程取证异常取证反馈通过";case"processEvidence_REJECT":return"过程取证异常取证反馈不通过";case"AttestationUrl_PASS":return"网页取证异常取证反馈通过";case"AttestationUrl_NOPASS":return"网页取证异常取证反馈不通过";case"userWithdraw_pass":return"提现通过";case"userWithdraw_reject":return"提现拒绝";case"userWithdraw2Balance":return"提现到余额";case"balance_reward":return"邀请用户实名奖励";case"invite_rebate":return"邀请用户充值返利";case"userWithdraw_add":return"提现申请";case"取消全网监测":return"取消全网监测";case"网页取证失败":return"网页取证失败";case"product_offline":return"产品下线";case"product_online":return"产品上线";case"InvoiceOrderApproval_UnPass":return"发票订单审核未通过"}}},{key:"render",value:function(){var e=this,t=this.props,a=t.page,n=t.list,r=v.default.get("yyyy/mm/dd hh:MM:ss"),i=[{type:"selection"},{label:h.default.translate("notification.content"),prop:"data",minWidth:"40%",render:function(t){return d.default.createElement("span",{className:(0,y.default)({isRead:t.isRead===!0||"1"===t.isRead}),style:{cursor:"pointer"},onClick:function(){return e.handleReadOne(t.id,t.isRead)},title:t.data},t.data)}},{label:h.default.translate("notification.time"),prop:"createdAt",minWidth:"20%",render:function(e){return e.createdAt?d.default.createElement("span",{className:(0,y.default)({isRead:e.isRead===!0||"1"===e.isRead})},r.format(e.createdAt)):d.default.createElement("span",null,"——")}},{label:h.default.translate("notification.type"),prop:"category",minWidth:"15%",sortable:!0,render:function(t){return d.default.createElement("span",{className:(0,y.default)({isRead:t.isRead===!0||"1"===t.isRead})},e.type(t.category))}},{label:h.default.translate("notification.subtype"),prop:"notificationType",minWidth:"25%",render:function(t){return d.default.createElement("span",{className:(0,y.default)({isRead:t.isRead===!0||"1"===t.isRead})},e.subtype(t.notificationType))}}];return d.default.createElement("div",{className:"container-wrapper url-container-wrapper"},d.default.createElement("div",{className:"notification-container container member-container"},d.default.createElement("h2",{className:"table-name"},h.default.translate("notification.message-reminding")),d.default.createElement("hr",null),d.default.createElement("div",{style:{marginTop:"30px"}},d.default.createElement("nav",{className:"notify-tabs"},d.default.createElement("div",null,d.default.createElement("button",{onClick:this.handleDeleteNotification,disabled:this.state.deleteList.length<=0},h.default.translate("notification.delete")),d.default.createElement("button",{onClick:this.handleMarkAll},h.default.translate("notification.all-read"))),d.default.createElement("hr",null),d.default.createElement("div",{className:"button-group"},d.default.createElement("button",{className:(0,y.default)({active:""===this.identityType}),onClick:function(t){return e.handleIdentityType("")}},h.default.translate("notification.all")),d.default.createElement("button",{className:(0,y.default)({active:"product"===this.identityType}),onClick:function(t){return e.handleIdentityType("product")}},h.default.translate("notification.product-message")),d.default.createElement("button",{className:(0,y.default)({active:"system"===this.identityType}),onClick:function(t){return e.handleIdentityType("system")}},h.default.translate("notification.notification-system")),d.default.createElement("button",{className:(0,y.default)({active:"other"===this.identityType}),onClick:function(t){return e.handleIdentityType("other")}},h.default.translate("notification.other")))),d.default.createElement("div",{className:"common-table-wrapper",style:{marginTop:30}},d.default.createElement("div",{className:"notification-table"},d.default.createElement(E.Table,{style:{width:"100%"},columns:i,data:n,ref:"table",onSelectChange:function(t){e.selectList(t)}}),a.list&&a.list.length>0?d.default.createElement("div",{className:"common-page-wrapper"},d.default.createElement(E.Pagination,{layout:"total, sizes, prev, pager, next, jumper",pageCount:a.totalPage,pageSizes:[20,50,100,500],pageSize:this.pageSize,currentPage:this.pageNo+1,onSizeChange:function(t){return e.queryByPageSize(t)},onCurrentChange:function(t){return e.queryByPageNo(t)}})):"")))))}}]),t}(u.Component))||l;t.default=N}});